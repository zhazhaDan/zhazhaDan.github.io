<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="google-site-verification" content="TZE0rZyIqLl10trYu3BWBWa1Vmz6HFwhb2OcNEK4u-s" />
     <link rel="shortcut icon" href= /2018/05/26/hexoé‡åˆ°çš„é‚£äº›äº‹/user_header.jpg >
    <title>
        GDDçš„åšå®¢
    </title>
    <meta name="description" content= å˜¿ï¼Œæ¬¢è¿è®¿é—®ï¼ >
    <meta name="keywords" content= Blog >
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

</head>
<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-home
 replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            ä½¿ç”¨atomicä¸€å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„å—?
        </p>
        <hr>
    </div>
    <div class="post-content">
        <p>ä¸€èˆ¬å½“æˆ‘ä»¬æƒ³è¦ä¿è¯å¯¹è±¡å±æ€§çš„çº¿ç¨‹å®‰å…¨çš„æ—¶å€™å¯ä»¥åœ¨å®šä¹‰å±æ€§çš„æ—¶å€™ç”¨ atomic å…³é”®å­—æ¥ä¿®é¥°ï¼Œé‚£ä¹ˆ<br>è¿™ç¯‡æ–‡ç« è®©æˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹atomicå’Œnonatomicåˆ†åˆ«éƒ½æ›¿æˆ‘ä»¬åšäº†ä»€ä¹ˆå·¥ä½œ</p>
<a id="more"></a>   

<p>ä¸¤ä¸ªå…³é”®å­—ä¿®é¥°çš„OCå¯¹è±¡ ç³»ç»Ÿéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆsetter/getteræ–¹æ³•ï¼ŒåŒºåˆ«å°±åœ¨äºä¸€ä¸ªä¼šè¿›è¡ŒåŠ é”æ“ä½œï¼Œä¸€ä¸ªä¸ä¼šã€‚ç³»ç»Ÿé»˜è®¤æ˜¯ä½¿ç”¨atomicçš„ã€‚<br>å› ä¸ºatomicåšäº†çº¿ç¨‹é”ï¼Œæ‰€ä»¥ç†è®ºä¸Šè®²atomicæ˜¯è¦æ¯”nonatomicæ›´åŠ è€—è´¹æ€§èƒ½ã€æ›´æ…¢ã€‚<br>atomic ç³»ç»Ÿä¼šåœ¨ç”Ÿæˆçš„setter/getteræ–¹æ³•é‡Œæ·»åŠ é”ï¼Œä½†æ˜¯è¿™ä¸ªé”ä»…ä»…æ˜¯ä¿è¯äº†setter/getterå­˜å–çš„å®‰å…¨ï¼Œå¹¶ä¸èƒ½ä¿è¯æ•°æ®ç»“æœæ­£ç¡®ï¼Œä¸¾ä¸ªğŸŒ°</p>
<blockquote>
<p>Açº¿ç¨‹æ‰§è¡Œsetteræ–¹æ³•åˆ°ä¸€åŠçš„æ—¶å€™ï¼ŒBçº¿ç¨‹æ‰§è¡Œgetteræ–¹æ³•ï¼Œé‚£ä¹ˆBçº¿ç¨‹çš„getteræ–¹æ³•ä¼šè¢«é˜»å¡ï¼Œç­‰åˆ°setterç»§ç»­æ‰§è¡Œå®Œæˆä¹‹åæ‰èƒ½å–åˆ°å€¼ã€‚è¿™é‡Œç³»ç»Ÿä½¿ç”¨çš„ä¹Ÿæ˜¯ @synchronized å¯ä»¥å‚è€ƒ<a href="https://zhazhadan.github.io/2018/05/27/synchronized%E5%9C%A8OC%E5%92%8Cswift%E4%B8%AD%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/">è¿™é‡Œ</a></p>
</blockquote>
<blockquote>
<p>Aã€Bã€Cç­‰å¤šä¸ªçº¿ç¨‹éƒ½è¦æ“ä½œåŒä¸€ä¸ªå¯¹è±¡setterï¼ŒDçº¿ç¨‹è¦getterè¿™ä¸ªå¯¹è±¡çš„å€¼ï¼Œé‚£ä¹ˆæ¯ä¸ªçº¿ç¨‹éƒ½æˆä¿è¯å„è‡ªæ•°æ®çš„å®Œæ•´æ€§ï¼Œä½†æ˜¯Dçº¿ç¨‹æœ€ågetåˆ°çš„å€¼å¹¶ä¸èƒ½ç¡®å®šã€‚</p>
</blockquote>
<p>ä»¥ä¸Šï¼Œæ‰€ä»¥atomicèƒ½å¤Ÿä¿è¯æ•°æ®çš„å®Œæˆæ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–åªæ˜¯è¯»å†™å®‰å…¨ï¼Œå¹¶ä¸èƒ½å‡†ç¡®å®šä¹‰è¯´ä»–æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å› ä¸ºçº¿ç¨‹å¯ä»¥å¯¹æ•°æ®åšå¾ˆå¤šæ“ä½œï¼ŒåŒ…æ‹¬è¯»å†™ï¼Œè¿˜æœ‰releaseã€retain,å‡å¦‚è¯´å¯¹ä¸€ä¸ªå·²ç»é‡Šæ”¾çš„å¯¹è±¡è¿›è¡Œreleaseï¼Œå°±ä¼šå¯¼è‡´crash</p>
<p>by the way</p>
<blockquote>
<p>@synthesizeå’Œ@dynamicçš„åŒºåˆ«<br>@synthesize var= _varæ˜¯é»˜è®¤çš„ï¼Œå¦‚æœä½ æ²¡æœ‰æ‰‹åŠ¨å®ç°setter/getteræ–¹æ³•ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨ç»™ä½ åŠ ä¸Šè¿™ä¸¤ä¸ªæ–¹æ³•<br>atomicå…³é”®å­—å®ç°setter/getteræ–¹æ³•å¦‚ä¸‹</p>
</blockquote>
<pre><code>@synthesize username = _username;
- (void)setUsername:(NSString *)username &#123;
    @synchronized(self) &#123;
        if (_username != username) &#123;
            _username = username;
        &#125;
    &#125;

&#125;
- (NSString *)username &#123;
    NSString * str = nil;
    @synchronized(self) &#123;
        str = _username;
    &#125;
    return str;
&#125;</code></pre>
<p>@dynamic åˆ™æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œç”¨æˆ·è‡ªå·±å»å®ç°setter/getteræ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœä½ è¿™ä¹ˆç”³æ˜äº†ï¼Œæœ€åå´æ²¡æœ‰æ‰‹åŠ¨å»å®ç°ï¼Œé‚£ä¹ˆç¼–è¯‘å¯èƒ½æ˜¯æ²¡é—®é¢˜çš„ï¼Œå¯æ˜¯åˆ°ç¨‹åºæ‰§è¡Œåˆ°obj.var = svarçš„æ—¶å€™ï¼Œä¼šå› ä¸ºæ‰¾ä¸åˆ°æ–¹æ³•è€Œcrash.</p>
<blockquote>
<p>å‚è€ƒæ–‡æ¡£<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7288eacbb1a2">[çˆ†æ ˆçƒ­é—¨ iOS é—®é¢˜] atomic å’Œ nonatomic æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></p>
</blockquote>

    </div>

    
        <hr class="fhr">
        <div id="vcomments"></div>
    
</div>
    <div class="footer" id="footer">
    <p><h4>Copyright Â© 2020 | Author: GDD | Theme By <a class="theme-author" target="_blank" rel="noopener" href="https://github.com/Xunzhuo/hexo-theme-coder" style="font-size:14px; color: #969696">Coder</a></h4>
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_site_pv">Page Views: <span id="busuanzi_value_site_pv"></span></span>
        <span class="post-meta-divider">|</span>
        <span id="busuanzi_container_site_uv">Unique Visitors: <span id="busuanzi_value_site_uv"></span></span>
    
    <label class="el-switch el-switch-blue el-switch-sm" style="vertical-align: sub;">
        <input type="checkbox" name="switch" id="update_style">
        <span class="el-switch-style"></span>
    </label>

    <!--         <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
    document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script> -->
</p>
</div>

<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="CQf8d0G29j9Y25lpvMMwTJxL-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="9pDFociYxWRnKWHxdds5YdyJ">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>

<style type="text/css">
.v * {
color: #698fca;
}
.v .vlist .vcard .vhead .vsys {
color: #3a3e4a;
}
.v .vlist .vcard .vh .vmeta .vat {
color: #638fd5;
}
.v .vlist .vcard .vhead .vnick {
color: #6ba1ff;
}
.v a {
color: #8696b1;
}
.v .vlist .vcard .vhead .vnick:hover {
color: #669bfc;
}
</style>
    <script type="text/javascript" color="173,174,173" opacity='1' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</body>
</html>
